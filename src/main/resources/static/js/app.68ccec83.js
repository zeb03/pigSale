(function(){"use strict";var e={6313:function(e,t,s){var r=s(6369),a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("nav",[t("router-link",{attrs:{to:"/login"}},[e._v("Login")]),e._v("| "),t("router-link",{attrs:{to:"/userHome"}},[e._v("User")])],1),t("router-view",{staticStyle:{height:"100%"}})],1)},i=[],o={methods:{}},l=o,n=s(1001),c=(0,n.Z)(l,a,i,!1,null,null,null),d=c.exports,u=s(4161);const m=u.Z.create({baseURL:"http://localhost:8080",timeout:5e3});var h=m;function p(e,t){return h({method:"post",url:"/user/login",data:{username:e,password:t}})}function g(e){return h({method:"post",url:"/user/register",data:e})}function f(){return h({method:"get",url:"/user/logout"})}function v(e){return h({method:"delete",url:"/user/remove",data:{userId:e}})}var _={login:p,register:g,logout:f,remove:v};function b(e){return h({method:"get",url:"/user"})}function y(e){return h({method:"put",url:"/user",data:e})}var C={get:b,update:y};function w(){return h({method:"get",url:"/address"})}function x(e){return h({method:"post",url:"/address",data:e})}function k(e){return h({method:"put",url:"/address",data:e})}function S(e){return h({method:"delete",url:`/address/${e}`})}var I={get:w,add:x,update:k,remove:S};function $(){return h({method:"get",url:"/cart/list"})}function F(e){return h({method:"post",url:"/cart/add",data:e})}function L(e,t){return h({method:"put",url:"/cart/edit",data:{productId:e,quantity:t}})}function D(){return h({method:"delete",url:"/cart/clean"})}var A={get:$,add:F,updateNum:L,removeAll:D};function G(e){return h({method:"get",url:"/product/page",params:e})}function P(e){return h({method:"post",url:"/product",data:e})}function N(e){return h({method:"put",url:"/product",data:e})}function q(e){return h({method:"delete",url:`/product/${e}`})}var Z={get:G,add:P,update:N,remove:q};function E(e){return h({method:"get",url:"/category/list",params:e})}function O(e){return h({method:"post",url:"/category",data:e})}function T(e){return h({method:"put",url:"/category",data:e})}function W(e){return h({method:"delete",url:`/category/${e}`})}var z={get:E,add:O,update:T,remove:W},H={user:_,userInfo:C,address:I,cart:A,goods:Z,category:z},U=s(2631),M=function(){var e=this,t=e._self._c;return t("my-login")},j=[],B=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login_container"},[t("div",{staticStyle:{float:"right"}},[t("router-view")],1)])},Q=[],R=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login_form"},[t("h2",[e._v("LOGIN")]),t("div",{staticClass:"login_form_input"},[t("el-input",{staticClass:"myinput",attrs:{placeholder:"请输入用户名"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),t("div",{staticClass:"login_form_input"},[t("el-input",{staticClass:"myinput",attrs:{placeholder:"请输入密码","show-password":""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),t("button",{on:{click:e.onLogin}},[e._v("登 录")]),t("br"),e._m(0)])},V=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"login_form_footer"},[e._v(" 未有帐号？ "),t("a",{attrs:{href:"#/register"}},[e._v("注册")])])}],K=(s(7658),{data(){return{username:"",password:""}},methods:{onLoginClick(){"admin"===this.username&&"123456"===this.password&&(this.$message({message:"成功登陆",type:"success"}),this.$router.push("/adminHome"),localStorage.setItem("loginID",7647676144),localStorage.setItem("loginName","测试"),this.$router.push("/userHome")),localStorage.removeItem("token")},onLogin(){this.$api.user.login(this.username,this.password).then((e=>{const t=e.data;200===t.code?(this.$message.success("成功登陆"),localStorage.setItem("loginID",t.data.id),localStorage.setItem("loginName",t.data.username),1===t.data.role?this.$router.push("/adminHome"):this.$router.push("/userHome")):this.$message.error(e.data.msg)}))}}}),X=K,Y=(0,n.Z)(X,R,V,!1,null,"7326215e",null),J=Y.exports,ee=function(){var e=this,t=e._self._c;return t("div",{staticClass:"register_form"},[t("h2",[e._v("欢迎注册")]),e._m(0),t("el-form",{ref:"ruleForm",staticStyle:{width:"90%"},attrs:{model:e.ruleForm,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"用户名：","label-width":e.formLabelWidth,prop:"username"}},[t("el-input",{attrs:{placeholder:"请输入用户名",autocomplete:"off"},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),t("el-form-item",{attrs:{label:"密码：","label-width":e.formLabelWidth,prop:"password"}},[t("el-input",{attrs:{placeholder:"请输入密码","show-password":"",autocomplete:"off"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),t("el-form-item",{attrs:{label:"重复密码：","label-width":e.formLabelWidth,prop:"repeatPassword"}},[t("el-input",{attrs:{placeholder:"请重复输入密码","show-password":"",autocomplete:"off"},model:{value:e.ruleForm.repeatPassword,callback:function(t){e.$set(e.ruleForm,"repeatPassword",t)},expression:"ruleForm.repeatPassword"}})],1),t("el-form-item",{attrs:{label:"邮箱地址：","label-width":e.formLabelWidth,prop:"email"}},[t("el-input",{attrs:{placeholder:"请输入邮箱地址",autocomplete:"off"},model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),t("el-form-item",{attrs:{label:"电话：","label-width":e.formLabelWidth,prop:"phone"}},[t("el-input",{attrs:{placeholder:"请输入电话号码",autocomplete:"off"},model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",t)},expression:"ruleForm.phone"}})],1)],1),t("div",[t("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")]),t("el-button",{staticStyle:{width:"228px"},attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("注册")])],1)],1)},te=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"text"},[e._v(" 已有账号？ "),t("a",{attrs:{href:"#/login"}},[e._v("登陆")])])}],se={props:{dialogVisible:{type:Boolean,default:!0}},data(){let e=(e,t,s)=>{t!==this.ruleForm.password?s(new Error("两次输入密码不一致!")):s()};return{ruleForm:{username:"",password:"",repeatPassword:"",phone:null,email:null},formLabelWidth:"120px",rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:5,max:15,message:"长度在 5 到 15 个字符",trigger:["blur","change"]}],repeatPassword:[{required:!0,message:"请再次输入密码",trigger:"blur"},{validator:e,trigger:"change"}],email:[{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{min:11,max:11,message:"请输入11位手机号码",trigger:["blur","change"]}]}}},methods:{resetForm(e){this.$refs[e].resetFields()},submitForm(e){this.$refs[e].validate((e=>{e&&this.register()}))},register(){let{username:e,password:t,email:s,phone:r}=this.ruleForm,a={username:e,password:t,email:s,phone:r};this.$api.user.register(a).then((e=>{const t=e.data;200===t.code?(this.$message.success("成功注册"),this.$router.push("/login")):this.$message.error(t.msg)}))}}},re=se,ae=(0,n.Z)(re,ee,te,!1,null,"41e451fa",null),ie=ae.exports,oe={name:"MyLogin",components:{MyRegister:ie,LoginForm:J},data(){return{}}},le=oe,ne=(0,n.Z)(le,B,Q,!1,null,"013db212",null),ce=ne.exports,de={name:"LoginView",components:{MyLogin:ce}},ue=de,me=(0,n.Z)(ue,M,j,!1,null,null,null),he=me.exports,pe=function(){var e=this,t=e._self._c;return t("user-home")},ge=[],fe=function(){var e=this,t=e._self._c;return t("div",[t("top-nav"),t("div",{staticClass:"box_shadow"},[t("userhome-header",{attrs:{loginID:e.loginID},on:{onSearch:e.searchGoods}})],1),t("div",{staticClass:"userhome_container"},[t("userhome-main")],1),t("el-backtop",{attrs:{bottom:100}})],1)},ve=[],_e=function(){var e=this,t=e._self._c;return t("div",{staticClass:"infinite-list-wrapper",staticStyle:{overflow:"auto"}},[e._t("default"),t("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.load,expression:"load"}],staticClass:"list",attrs:{"infinite-scroll-disabled":e.disabled}},e._l(e.goodsList,(function(e){return t("li",{key:e.productId,staticClass:"list-item"},[t("goods-card",{attrs:{image:e.image,"product-name":e.productName,price:e.price,"category-name":e.categoryName,origin:e.origin}})],1)})),0),t("div",{staticClass:"footer"},[e.loading?t("p",[e._v("加载中...")]):t("p",[e._v("没有更多了")])])],2)},be=[],ye=function(){var e=this,t=e._self._c;return t("div",{staticClass:"goods_card"},[t("a",{attrs:{href:"#"}},[t("img",{attrs:{src:e.image[0],alt:""}}),t("div",[t("h4",[e._v(e._s(e.productName)+"  ")]),t("div",{staticClass:"price"},[e._v("￥"+e._s(e.price.toFixed(2)))])]),t("div",{staticClass:"info"},[t("span",[e._v(e._s(e.categoryName))]),e._v(" • "+e._s(e.origin)+" ")])])])},Ce=[],we={props:{productName:{type:String,default:"商品名称"},price:{type:Number,default:0},categoryName:{type:String,default:"分类"},origin:{type:String,default:"商品产地"},image:{type:Array,default:()=>["https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg"]}},data(){return{}}},xe=we,ke=(0,n.Z)(xe,ye,Ce,!1,null,"063be966",null),Se=ke.exports,Ie={components:{GoodsCard:Se},data(){return{loading:!1,goodsList:[],currentPage:0,total:0,pageSize:8,categoryId:null,list:[],isLastPage:!1}},computed:{noMore(){return this.isLastPage||this.goodsList.length>50},disabled(){return this.loading||this.noMore},totalPage(){return this.total/this.pageSize}},created:function(){this.requestGoodsData({})},methods:{load(){this.loading=!0,setTimeout((()=>{this.requestNextPageData(),this.loading=!1}),1e3)},handleCurrentChange(e){this.requestGoodsData({currentPage:e})},requestNextPageData(){this.isLastPage||this.handleCurrentChange(this.currentPage+1)},showCategoryGoods(){let e=this.categoryId;this.requestGoodsData({categoryId:e})},showAllGoods(){this.categoryId=null,this.keyword="",this.requestGoodsData({})},requestGoodsData({currentPage:e=1,pageSize:t=this.pageSize,keyword:s=null,categoryId:r=null},a="成功加载数据"){console.log(e,t,s,r);let i={currentPage:e,pageSize:t,keyword:s,categoryId:r};this.$api.goods.get(i).then((e=>{const t=e.data;if(200===t.code){let{list:e,total:s,isLastPage:r}=t.data;this.list=e,this.total=s,this.isLastPage=r,this.currentPage+=1,this.goodsList=this.goodsList.concat(this.list),this.loading=!1}else this.$message.error(e.data.msg)}))}}},$e=Ie,Fe=(0,n.Z)($e,_e,be,!1,null,"1df90f48",null),Le=Fe.exports,De=function(){var e=this,t=e._self._c;return t("div",{staticClass:"topnav"},[t("div",{staticClass:"topnav_container"},[t("div",{staticClass:"topnav_left"},[t("ul",[e._m(0),e.isLogin?t("li",[t("router-link",{attrs:{to:"/userInfo/"+e.loginID}},[e._v(" "+e._s(e.loginName)+" "+e._s(e.loginID)+" ")])],1):t("li",[t("a",{attrs:{href:"#/login"}},[e._v("请登陆")])]),e.isLogin?e._e():t("li",[t("a",{attrs:{href:"#/register"}},[e._v("免费注册")])])])]),t("div",{staticClass:"topnav_right"},[t("ul",[e._m(1),t("li",{staticClass:"topnav_personalcenter"},[t("router-link",{attrs:{to:"/userInfo/"+e.loginID}},[e._v("个人中心")]),t("i",{staticClass:"el-icon-arrow-down"}),t("div",{staticClass:"topnav_personalcenter_menu"},[t("ul",[t("li",[t("router-link",{attrs:{to:"/userInfo/"+e.loginID+"/data"}},[e._v("账号管理")])],1),t("li",[t("router-link",{attrs:{to:"/userInfo/"+e.loginID+"/address"}},[e._v("收货地址")])],1),e._m(2)]),e._m(3)])],1),t("li",{staticClass:"topnav_cart"},[t("img",{attrs:{src:s(9636)}}),t("router-link",{attrs:{to:"/userInfo/"+e.loginID+"/cart"}},[e._v("购物车")])],1),e._m(4)])])])])},Ae=[function(){var e=this,t=e._self._c;return t("li",[t("span",[e._v("欢迎你！")])])},function(){var e=this,t=e._self._c;return t("li",[t("a",{attrs:{href:""}},[e._v("我的订单")])])},function(){var e=this,t=e._self._c;return t("li",[t("a",{attrs:{href:""}},[e._v("我的收藏夹")])])},function(){var e=this,t=e._self._c;return t("ul",[t("li",[t("a",{attrs:{href:""}},[e._v("帮助中心")])]),t("li",[t("a",{attrs:{href:""}},[e._v("售后服务")])])])},function(){var e=this,t=e._self._c;return t("li",[t("a",{attrs:{href:""}},[e._v("联系客服")])])}],Ge={data(){return{loginID:"-1",loginName:"用户名",isLogin:!1}},computed:{},created:function(){const e=localStorage.getItem("loginID"),t=localStorage.getItem("loginName");e&&(this.isLogin=!0,this.loginID=e,this.loginName=t)}},Pe=Ge,Ne=(0,n.Z)(Pe,De,Ae,!1,null,"6a40f099",null),qe=Ne.exports,Ze=function(){var e=this,t=e._self._c;return t("div",{staticClass:"userhome_header"},[t("logo",{staticClass:"header_logo"}),t("div",{class:{search_fix:e.isFixed},attrs:{id:"search"}},[t("div",{staticClass:"container"},[e._m(0),t("goods-search-one",{staticClass:"header_search",on:{onSearch:e.searchGoods}}),t("div",{staticClass:"header_cart"},[t("router-link",{attrs:{to:"/userInfo/"+e.loginID+"/cart"}},[t("div",{staticClass:"cart_container"},[t("div",{staticClass:"el-icon-shopping-cart-full"}),t("span",[e._v("购物车")])])])],1)],1)])],1)},Ee=[function(){var e=this,t=e._self._c;return t("a",{attrs:{href:"#"}},[t("div",{staticClass:"fix_logo"})])}],Oe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"goods_search"},[t("div",{staticClass:"header_search"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.keyword,expression:"keyword"}],staticClass:"search_input",attrs:{type:"text",placeholder:"请输入关键字搜索"},domProps:{value:e.keyword},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchGoods.apply(null,arguments)},input:function(t){t.target.composing||(e.keyword=t.target.value)}}}),t("input",{staticClass:"search_submit",attrs:{type:"submit",value:"搜索"},on:{click:e.searchGoods}})])])},Te=[],We={name:"GoodsSearchOne",props:{initKeyword:{type:String,default:""},inputWidth:{type:Number,default:150}},watch:{initKeyword:function(e){console.log(e),this.keyword=e}},data(){return{keyword:this.initKeyword}},methods:{searchGoods(){this.$emit("onSearch",this.keyword)}}},ze=We,He=(0,n.Z)(ze,Oe,Te,!1,null,"3f30c9fe",null),Ue=He.exports,Me=function(){var e=this;e._self._c;return e._m(0)},je=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"header_logo_cantainer"},[t("a",{staticClass:"logo_img",attrs:{href:"#/userHome"}})])}],Be={},Qe=Be,Re=(0,n.Z)(Qe,Me,je,!1,null,"6fbb3f3e",null),Ve=Re.exports,Ke={components:{GoodsSearchOne:Ue,Logo:Ve},name:"UserhomeHeader",props:{loginID:{type:String,default:"-1"}},data(){return{isFixed:!1}},methods:{searchGoods(e){console.log(e),this.$emit("onSearch",e)}},created:function(){window.addEventListener("scroll",(()=>{let e=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;this.isFixed=e>100}))}},Xe=Ke,Ye=(0,n.Z)(Xe,Ze,Ee,!1,null,"0799cc0e",null),Je=Ye.exports,et=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"banner"},[t("div",{staticClass:"w"},[t("sub-nav",{staticStyle:{float:"left"}}),t("div",{attrs:{id:"outer"}},[t("el-carousel",{attrs:{height:"361px",trigger:"click"}},e._l(6,(function(e){return t("el-carousel-item",{key:e},[t("a",{attrs:{href:"#"}},[t("img",{staticStyle:{"object-fit":"cover",width:"100%",height:"100%"},attrs:{src:"/images/a"+e+".jpg",alt:""}})])])})),1)],1),t("user-card",{staticStyle:{float:"right"}})],1)]),e._m(0),t("div",{staticClass:"w"},[t("div",{staticClass:"box"},[e._m(1),t("scroll-goods")],1)]),e._m(2)])},tt=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"goods w"},[t("h3",[e._v("精品推荐")]),t("ul",[t("li",[t("a",{attrs:{href:"#"}},[e._v("饲料")])]),t("li",[t("a",{attrs:{href:"#"}},[e._v("腊肉")])]),t("li",[t("a",{attrs:{href:"#"}},[e._v("小猪")])]),t("li",[t("a",{attrs:{href:"#"}},[e._v("肉猪")])]),t("li",[t("a",{attrs:{href:"#"}},[e._v("黑猪")])]),t("li",[t("a",{attrs:{href:"#"}},[e._v("设备")])])]),t("a",{staticClass:"mod",attrs:{href:"#"}},[e._v("修改分类")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"box-hd"},[t("h3",[e._v("精品推荐")]),t("a",{attrs:{href:"#"}},[e._v("查看全部")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"footer"},[t("div",{staticClass:"w"},[t("div",{staticClass:"copyright"},[t("p",[e._v("猪肉销售平台"),t("br"),e._v(" © 2023年xxxxxxxx.保留所有权利。-ICP备xxxxxxx号")]),t("a",{staticClass:"app",attrs:{href:"#"}},[e._v("下载APP")])]),t("div",{staticClass:"links"},[t("dl",[t("dt",[t("a",{attrs:{href:"#"}},[e._v("猪肉销售平台")])]),t("dd",[t("a",{attrs:{href:"#"}},[e._v("关于")])]),t("dd",[t("a",{attrs:{href:"#"}},[e._v("管理团队")])]),t("dd",[t("a",{attrs:{href:"#"}},[e._v("工作机会")])]),t("dd",[t("a",{attrs:{href:"#"}},[e._v("客户服务")])]),t("dd",[t("a",{attrs:{href:"#"}},[e._v("帮助")])])]),t("dl",[t("dt",[t("a",{attrs:{href:"#"}},[e._v("新手指南")])]),t("dd",[t("a",{attrs:{href:"#"}},[e._v("关于")])]),t("dd",[t("a",{attrs:{href:"#"}},[e._v("管理团队")])]),t("dd",[t("a",{attrs:{href:"#"}},[e._v("工作机会")])]),t("dd",[t("a",{attrs:{href:"#"}},[e._v("客户服务")])]),t("dd",[t("a",{attrs:{href:"#"}},[e._v("帮助")])])]),t("dl",[t("dt",[t("a",{attrs:{href:"#"}},[e._v("合作伙伴")])]),t("dd",[t("a",{attrs:{href:"#"}},[e._v("关于")])]),t("dd",[t("a",{attrs:{href:"#"}},[e._v("管理团队")])]),t("dd",[t("a",{attrs:{href:"#"}},[e._v("工作机会")])]),t("dd",[t("a",{attrs:{href:"#"}},[e._v("客户服务")])]),t("dd",[t("a",{attrs:{href:"#"}},[e._v("帮助")])])])])])])}],st=function(){var e=this,t=e._self._c;return t("div",{staticClass:"goods_show clearfix"},e._l(e.goodsList,(function(e){return t("goods-card",{key:e.productId,attrs:{image:e.image,"product-name":e.productName,price:e.price,"category-name":e.categoryName,origin:e.origin}})})),1)},rt=[],at={components:{GoodsCard:Se},props:{list:{type:Array,default:()=>[]}},watch:{list:function(e){this.goodsList=e}},data(){return{goodsList:this.list}}},it=at,ot=(0,n.Z)(it,st,rt,!1,null,"08cf0af6",null),lt=ot.exports,nt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"goods_container"},[t("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"flex",justify:"space-around"}},[t("el-col",{attrs:{span:5}},[t("category-select",{staticStyle:{display:"inline-block",width:"120px"},attrs:{placeholder:"请选择分类"},model:{value:e.categoryId,callback:function(t){e.categoryId=t},expression:"categoryId"}}),t("el-button",{attrs:{type:"primary",plain:"",disabled:!e.categoryId},on:{click:e.showCategoryGoods}},[e._v("筛选")])],1),t("el-col",{attrs:{span:5}}),t("el-col",{attrs:{span:10}},[t("el-button",{attrs:{plain:""},on:{click:e.showAllGoods}},[e._v("显示所有")])],1),t("el-col",{attrs:{span:2}})],1),t("goods-show",{attrs:{list:e.list}}),t("el-pagination",{attrs:{total:e.total,"page-size":e.pageSize,layout:"total, jumper, prev, pager, next",background:""},on:{"current-change":e.handleCurrentChange}})],1)},ct=[],dt=function(){var e=this,t=e._self._c;return t("div",[t("el-select",{ref:"selectLabel",attrs:{filterable:"",placeholder:e.placeholder},on:{"visible-change":e.onVisible,change:e.onChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(s){return t("el-option",{key:s.value,attrs:{label:s.label,value:s.value},nativeOn:{click:function(t){e.selectLabel=s.label}}})})),1)],1)},ut=[],mt={model:{prop:"modelValue",event:"valueChange"},props:{modelValue:Number,placeholder:String,initSelectLabel:String},watch:{modelValue:function(e){this.value=e}},data(){return{selectLabel:this.initSelectLabel,options:[],value:""}},methods:{handleData(e=[]){let t=[];return e.forEach(((e,s)=>{let{categoryId:r,categoryName:a}=e;t[s]={value:r,label:a}})),t},onChange(e){this.$emit("valueChange",e)},onVisible(e){this.selectLabel=this.$refs.selectLabel.selected.label,e?this.$api.category.get().then((e=>{const t=e.data;200===t.code?this.options=this.handleData(t.data):this.$message.error(t.msg)})):(this.selectLabel||(this.selectLabel=this.initSelectLabel),this.$emit("onSelectLabel",this.selectLabel))}}},ht=mt,pt=(0,n.Z)(ht,dt,ut,!1,null,null,null),gt=pt.exports,ft=function(){var e=this,t=e._self._c;return t("div",{staticClass:"goods_search"},[t("el-input",{style:{width:e.inputWidth+"px"},attrs:{clearable:"",placeholder:"输入商品名称关键词"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),t("el-button",{attrs:{type:"primary",plain:""},on:{click:e.searchGoods}},[e._v("搜索")])],1)},vt=[],_t={name:"GoodsSearch",props:{inputWidth:{type:Number,default:150}},data(){return{keyword:null}},methods:{searchGoods(){this.$emit("onSearch",this.keyword)}}},bt=_t,yt=(0,n.Z)(bt,ft,vt,!1,null,null,null),Ct=yt.exports,wt={name:"MyGoods",components:{CategorySelect:gt,GoodsShow:lt,GoodsSearch:Ct,GoodsSearchOne:Ue},data(){return{addGoodsVisible:!1,currentPage:1,total:0,pageSize:20,categoryId:null,list:[]}},created:function(){this.requestGoodsData({})},methods:{handleCurrentChange(e){this.requestGoodsData({currentPage:e})},searchGoods(e){this.requestGoodsData({keyword:e})},showCategoryGoods(){let e=this.categoryId;this.requestGoodsData({categoryId:e})},showAllGoods(){this.categoryId=null,this.keyword="",this.requestGoodsData({})},onAddSuccess(e){this.requestGoodsData({},e)},requestGoodsData({currentPage:e=1,pageSize:t=this.pageSize,keyword:s=null,categoryId:r=null},a="成功加载数据"){let i={currentPage:e,pageSize:t,keyword:s,categoryId:r};this.$api.goods.get(i).then((e=>{const t=e.data;if(200===t.code){this.$message.success(a);let{list:e,total:s}=t.data;this.list=e,this.total=s}else this.$message.error(e.data.msg)}))}}},xt=wt,kt=(0,n.Z)(xt,nt,ct,!1,null,"5bf585bc",null),St=kt.exports,It=function(){var e=this;e._self._c;return e._m(0)},$t=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"subnav"},[t("div",{staticClass:"first"},[t("span",[t("a",{attrs:{href:"#"}},[t("div",[t("span",[e._v("饲料")]),t("div",{staticClass:"gt"},[e._v(" ")])])])]),t("div",{staticClass:"first-next"},[t("ul",[t("li",[e._v("猪饲料")]),t("li"),t("li"),t("li"),t("li"),t("li")])])]),t("div",{staticClass:"first"},[t("span",[t("a",{attrs:{href:"#"}},[t("div",[t("span",[e._v("兽药")]),t("div",{staticClass:"gt"},[e._v(">")])])])]),t("div",{staticClass:"first-next"},[t("ul",[t("li",[e._v("猪饲料")]),t("li"),t("li"),t("li"),t("li"),t("li")])])]),t("div",{staticClass:"first"},[t("span",[t("div",[t("a",[e._v("添加剂")]),t("div",{staticClass:"gt"},[e._v(">")])]),t("div",{staticClass:"clearfix"})]),t("div",{staticClass:"first-next"},[e._v(" 猪饲料"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br")])]),t("div",{staticClass:"first"},[t("span",[t("div",[t("a",[e._v("猪场设备")]),t("div",{staticClass:"gt"},[e._v(">")])])]),t("div",{staticClass:"first-next"},[e._v(" 猪饲料"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br")])]),t("div",{staticClass:"first"},[t("span",[t("div",[t("a",[e._v("防非设备")]),t("div",{staticClass:"gt"},[e._v(">")])])]),t("div",{staticClass:"first-next"},[e._v(" 猪饲料"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br")])]),t("div",{staticClass:"first"},[t("span",[t("div",[t("a",[e._v("温控环控")]),t("div",{staticClass:"gt"},[e._v(">")])])]),t("div",{staticClass:"first-next"},[e._v(" 猪饲料"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v("1"),t("br")])]),t("div",{staticClass:"first"},[t("span",[t("div",[t("a",[e._v("生物制品")]),t("div",{staticClass:"gt"},[e._v(">")])])]),t("div",{staticClass:"first-next"},[e._v(" 猪饲料"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v("1"),t("br")])]),t("div",{staticClass:"first"},[t("span",[t("div",[t("a",[e._v("种猪")]),t("div",{staticClass:"gt"},[e._v(">")])])]),t("div",{staticClass:"first-next"},[e._v(" 猪饲料"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v("1"),t("br")])]),t("div",{staticClass:"first"},[t("span",[t("div",[t("a",[e._v("种猪精液")]),t("div",{staticClass:"gt"},[e._v(">")])])]),t("div",{staticClass:"first-next"},[e._v(" 猪饲料"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v(" 1"),t("br"),e._v("1"),t("br")])])])}],Ft={},Lt=Ft,Dt=(0,n.Z)(Lt,It,$t,!1,null,"71a6738e",null),At=Dt.exports,Gt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"user_card"},[e._m(0),t("div",[e.isLogin?t("p",{staticClass:"p1"},[e._v("Hi "+e._s(e.loginName)+e._s(e.loginID))]):t("p",{staticClass:"p1"},[e._v("Hi，你好 !")]),e.isLogin?e._e():t("p",{staticClass:"p2"},[e._v("欢迎逛猪销售电子平台！")])]),e.isLogin?t("div",{staticStyle:{"margin-left":"150px"}},[t("logout")],1):t("div",[e._m(1),e._m(2)]),e._m(3)])},Pt=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"user_header"},[t("img",{attrs:{src:"images/user.webp",alt:""}})])},function(){var e=this,t=e._self._c;return t("a",{attrs:{href:"#/login"}},[t("div",{staticClass:"login"},[e._v(" 登录 ")])])},function(){var e=this,t=e._self._c;return t("a",{attrs:{href:"#/register"}},[t("div",{staticClass:"register"},[e._v(" 注册 ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"user_bottom"},[t("img",{attrs:{src:"images/user1.webp",alt:""}})])}],Nt=function(){var e=this,t=e._self._c;return t("div",[t("el-button",{on:{click:e.Logout}},[e._v("退出")])],1)},qt=[],Zt={methods:{Logout(){this.$api.user.logout().then((e=>{const t=e.data;200===t.code?(this.$message.success(e.data.msg),localStorage.removeItem("loginID"),localStorage.removeItem("loginName"),this.$router.go(0)):this.$message.error(e.data.msg)}))}}},Et=Zt,Ot=(0,n.Z)(Et,Nt,qt,!1,null,null,null),Tt=Ot.exports,Wt={components:{Logout:Tt},name:"UserCard",data(){return{loginID:"-1",loginName:"用户名",isLogin:!1}},created:function(){const e=localStorage.getItem("loginID"),t=localStorage.getItem("loginName");e&&(this.isLogin=!0,this.loginID=e,this.loginName=t)}},zt=Wt,Ht=(0,n.Z)(zt,Gt,Pt,!1,null,"b6517f78",null),Ut=Ht.exports,Mt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"scroll_goods"},[e._t("default"),t("ul",{staticClass:"list"},e._l(e.goodsList,(function(e){return t("li",{key:e.productId,staticClass:"list-item"},[t("goods-card",{attrs:{image:e.image,"product-name":e.productName,price:e.price,"category-name":e.categoryName,origin:e.origin}})],1)})),0),t("div",{staticClass:"footer"},[e.loading?t("p",[e._v("加载中...")]):t("p",[e._v("没有更多了")])])],2)},jt=[],Bt={components:{GoodsCard:Se},data(){return{isLock:!1,loading:!0,goodsList:[],currentPage:0,total:0,pageSize:8,categoryId:null,list:[],isLastPage:!1}},computed:{noMore(){return this.isLastPage||this.goodsList.length>40}},watch:{noMore:function(e){e&&(this.loading=!1)}},created:function(){this.requestGoodsData({})},mounted(){window.addEventListener("scroll",this.scrolling)},beforeDestroy(){window.removeEventListener("scroll",this.scrolling)},methods:{scrolling(){let e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,t=document.documentElement.clientHeight||document.body.clientHeight,s=document.documentElement.scrollHeight||document.body.scrollHeight;!this.isLock&&!this.noMore&&e+t>.9*s&&(this.isLock=!0,this.requestNextPageData())},handleCurrentChange(e){this.requestGoodsData({currentPage:e})},requestNextPageData(){this.isLastPage||this.handleCurrentChange(this.currentPage+1)},showCategoryGoods(){let e=this.categoryId;this.requestGoodsData({categoryId:e})},showAllGoods(){this.categoryId=null,this.keyword="",this.requestGoodsData({})},requestGoodsData({currentPage:e=1,pageSize:t=this.pageSize,keyword:s=null,categoryId:r=null},a="成功加载数据"){console.log(e,t,s,r);let i={currentPage:e,pageSize:t,keyword:s,categoryId:r};this.$api.goods.get(i).then((e=>{const t=e.data;if(200===t.code){let{list:e,total:s,isLastPage:r}=t.data;this.list=e,this.total=s,this.isLastPage=r,this.currentPage+=1,this.goodsList=this.goodsList.concat(this.list)}else this.$message.error(e.data.msg);this.isLock=!1})).catch((e=>{setTimeout((()=>{this.isLock=!1}),2e3)}))}}},Qt=Bt,Rt=(0,n.Z)(Qt,Mt,jt,!1,null,"2471bb2f",null),Vt=Rt.exports,Kt={components:{GoodsCard:Se,GoodsShow:lt,MyGoods:St,SubNav:At,UserCard:Ut,InfiniteScrollGoods:Le,ScrollGoods:Vt}},Xt=Kt,Yt=(0,n.Z)(Xt,et,tt,!1,null,"abdd76be",null),Jt=Yt.exports,es={data(){return{loginID:"-1",loginName:"用户名",isLogin:!1}},components:{TopNav:qe,UserhomeHeader:Je,UserhomeMain:Jt,InfiniteScrollGoods:Le},created:function(){const e=localStorage.getItem("loginID"),t=localStorage.getItem("loginName");e&&(this.isLogin=!0,this.loginID=e,this.loginName=t)},methods:{getScroll(e){console.log(e)},searchGoods(e){this.$router.push("/search/"+e)}}},ts=es,ss=(0,n.Z)(ts,fe,ve,!1,null,"78e3ef40",null),rs=ss.exports,as={components:{UserHome:rs}},is=as,os=(0,n.Z)(is,pe,ge,!1,null,null,null),ls=os.exports,ns=function(){var e=this,t=e._self._c;return t("search-results")},cs=[],ds=function(){var e=this,t=e._self._c;return t("div",[t("top-nav"),t("div",{staticClass:"search_header"},[t("logo",{staticClass:"left"}),t("goods-search-one",{staticClass:"search",attrs:{initKeyword:e.keyword},on:{onSearch:e.onSearchGoods}})],1),t("main",{staticClass:"mainer"},[t("my-goods",{ref:"goods"})],1)],1)},us=[],ms={components:{TopNav:qe,GoodsSearchOne:Ue,Logo:Ve,MyGoods:St},data(){return{keyword:""}},methods:{onSearchGoods(e){this.$refs.goods.searchGoods(e)}},created:function(){const e=this.$route.params.keyword;e&&(this.keyword=e)}},hs=ms,ps=(0,n.Z)(hs,ds,us,!1,null,"b44b5944",null),gs=ps.exports,fs={name:"GoodsView",components:{SearchResults:gs}},vs=fs,_s=(0,n.Z)(vs,ns,cs,!1,null,null,null),bs=_s.exports,ys=function(){var e=this,t=e._self._c;return t("user-info")},Cs=[],ws=function(){var e=this,t=e._self._c;return t("div",[t("top-nav",{on:{getLoginId:function(t){e.loginId=t}}}),e._m(0),t("div",{staticClass:"main"},[t("div",{staticClass:"container clearfix"},[t("div",{staticClass:"menu"},[t("div",{staticClass:"menu_item"},[t("h2",{staticClass:"menu_title"},[e._v("我的购物")]),t("ul",[t("li",[t("router-link",{attrs:{to:"cart"}},[e._v("购物车")])],1),e._m(1),t("li",[t("router-link",{attrs:{to:"address"}},[e._v("收货地址")])],1),e._m(2)])]),t("div",{staticClass:"menu_item"},[t("h2",{staticClass:"menu_title"},[e._v("个人资料")]),t("ul",[t("li",[t("router-link",{attrs:{to:"data"}},[e._v("查看")])],1),t("li",[t("router-link",{attrs:{to:"edit"}},[e._v("编辑")])],1),t("li",[t("user-remove",{})],1)])])]),t("div",{staticClass:"main_body"},[t("router-view")],1)])])],1)},xs=[function(){var e=this,t=e._self._c;return t("header",{staticClass:"header"},[t("div",{staticClass:"container"},[t("a",{attrs:{href:"#/userHome"}},[t("div",{staticClass:"header_logo"})]),t("div",{staticClass:"header_ul"},[t("ul",{staticClass:"clearfix"},[t("li",[t("a",{attrs:{href:"#/userHome"}},[e._v("首页")])]),t("li",[t("a",{attrs:{href:""}},[e._v("账号管理")])])])])])])},function(){var e=this,t=e._self._c;return t("li",[t("a",{attrs:{href:""}},[e._v("订单")])])},function(){var e=this,t=e._self._c;return t("li",[t("a",{attrs:{href:""}},[e._v("评价")])])}],ks=function(){var e=this,t=e._self._c;return t("div",{staticClass:"user_remove"},[t("el-button",{attrs:{type:"text"},on:{click:e.onRemove}},[e._v("注销")])],1)},Ss=[],Is={methods:{onRemove(){this.$confirm("此操作将永久注销您的账号, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.remove()})).catch((()=>{this.$message({type:"info",message:"已取消"})}))},remove(){const e=localStorage.getItem("loginID");this.$api.user.remove(e).then((e=>{const t=e.data;200===t.code?(this.$message.success(e.data.msg),localStorage.removeItem("loginID"),localStorage.removeItem("loginName"),this.$router.push("/userHome")):this.$message.error(e.data.msg)}))}}},$s=Is,Fs=(0,n.Z)($s,ks,Ss,!1,null,null,null),Ls=Fs.exports,Ds={components:{TopNav:qe,UserRemove:Ls},data(){return{loginId:null}},created:function(){}},As=Ds,Gs=(0,n.Z)(As,ws,xs,!1,null,"10eca885",null),Ps=Gs.exports,Ns={components:{UserInfo:Ps}},qs=Ns,Zs=(0,n.Z)(qs,ys,Cs,!1,null,null,null),Es=Zs.exports,Os=function(){var e=this,t=e._self._c;return t("div",{staticClass:"user_data"},[t("div",{staticClass:"user_data_header clearfix"},[t("h2",[e._v("个人资料")]),t("el-button",{staticClass:"button",attrs:{type:"primary",size:"small"},on:{click:e.onClickEdit}},[e._v("编辑")])],1),t("div",{staticClass:"user_data_avatar"},[t("span",{staticClass:"avatar"},[e._v("头像")]),t("el-avatar",{attrs:{shape:"square",size:150,icon:"el-icon-user",src:e.list.image}})],1),t("el-descriptions",{staticClass:"margin-top",attrs:{column:2,border:""}},[t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-user"}),e._v(" 用户名 ")]),e._v(" "+e._s(e.list.username)+" ")],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-user-solid"}),e._v(" 姓名 ")]),e._v(" "+e._s(e.list.name)+" ")],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-tickets"}),e._v(" 性别 ")]),t("el-tag",{attrs:{size:"small"}},[e._v(e._s(e.genderStr))])],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-postcard"}),e._v(" 生日日期 ")]),e._v(" "+e._s(e.list.birthday)+" ")],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-mobile-phone"}),e._v(" 手机号 ")]),e._v(" "+e._s(e.list.phone)+" ")],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-message"}),e._v(" 电子邮箱 ")]),e._v(" "+e._s(e.list.email)+" ")],2)],1)],1)},Ts=[],Ws={props:{loginId:{type:String,default:""}},data(){return{list:{userId:"",username:"",password:"",email:"",phone:"",name:"",gender:"",birthday:"",role:0,image:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg"},genderStr:"保密",userId:this.loginId}},created:function(){this.requestUserData()},methods:{getGenderStr(e){let t="保密",s=[{value:"1",label:"男"},{value:"0",label:"女"},{value:"-1",label:"保密"}];return s.forEach((s=>{if(s.value===e)return t=s.label})),t},requestUserData(){let e=this.$route.params.loginID;this.$api.userInfo.get(e).then((e=>{const t=e.data;200===t.code?(this.$message.success("成功"),this.list=t.data,this.genderStr=this.getGenderStr(t.data.gender)):this.$message.error(e.data.msg)}))},onClickEdit(){this.$router.push("./edit")}}},zs=Ws,Hs=(0,n.Z)(zs,Os,Ts,!1,null,null,null),Us=Hs.exports,Ms=function(){var e=this,t=e._self._c;return t("div",[t("el-page-header",{attrs:{content:"编辑资料"},on:{back:e.goBack}}),t("el-form",{ref:"ruleForm",staticClass:"form_container",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"80px"}},[t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"账号类型：","label-width":e.formLabelWidth}},[t("el-input",{attrs:{placeholder:e.role,disabled:!0}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"用户ID：","label-width":e.formLabelWidth}},[t("el-input",{attrs:{placeholder:e.ruleForm.userId,disabled:!0}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"用户名：","label-width":e.formLabelWidth,prop:"username"}},[t("el-input",{attrs:{placeholder:"请输入用户名",autocomplete:"off"},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"性名：","label-width":e.formLabelWidth}},[t("el-input",{attrs:{placeholder:"请输入性名",autocomplete:"off"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"性别：","label-width":e.formLabelWidth}},[t("el-select",{staticStyle:{width:"80px"},attrs:{placeholder:"请选择"},model:{value:e.ruleForm.gender,callback:function(t){e.$set(e.ruleForm,"gender",t)},expression:"ruleForm.gender"}},e._l(e.genderOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"出生日期：","label-width":e.formLabelWidth}},[t("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.ruleForm.birthday,callback:function(t){e.$set(e.ruleForm,"birthday",t)},expression:"ruleForm.birthday"}})],1)],1)],1),t("el-form-item",{attrs:{label:"邮箱地址：","label-width":e.formLabelWidth,prop:"email"}},[t("el-input",{attrs:{placeholder:"请输入邮箱地址",autocomplete:"off"},model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),t("el-form-item",{attrs:{label:"电话：","label-width":e.formLabelWidth,prop:"phone"}},[t("el-input",{attrs:{placeholder:"请输入电话号码",autocomplete:"off"},model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",t)},expression:"ruleForm.phone"}})],1),t("div",{staticStyle:{"margin-left":"70%"}},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("立即更改")])],1)],1)],1)},js=[],Bs={name:"EditUserData",data(){return{genderOptions:[{value:"1",label:"男"},{value:"0",label:"女"},{value:"-1",label:"保密"}],role:"普通用户",ruleForm:{userId:0,username:"",name:"",gender:"-1",password:"",birthday:"",role:"普通用户",phone:"",email:""},formLabelWidth:"120px",rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],email:[{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{min:11,max:11,message:"请输入11位手机号码",trigger:["blur","change"]}]}}},created:function(){this.requestUserData()},methods:{goBack(){this.$router.go(-1)},getGenderStr(e){let t="保密",s=[{value:"1",label:"男"},{value:"0",label:"女"},{value:"-1",label:"保密"}];return s.forEach((s=>{if(s.value===e)return t=s.label})),t},requestUserData(){let e=this.$route.params.loginID;this.$api.userInfo.get(e).then((e=>{const t=e.data;200===t.code?(this.$message.success("成功"),this.ruleForm=t.data,this.genderStr=this.getGenderStr(t.data.gender)):this.$message.error(e.data.msg)}))},submitForm(e){this.$refs[e].validate((e=>{e&&this.update()}))},update(){let e=this.ruleForm;this.$api.userInfo.update(e).then((e=>{console.log(e);const t=e.data;200===t.code?(this.$message.success("成功修改信息"),this.onCancel()):this.$message.error(t.msg)}))}}},Qs=Bs,Rs=(0,n.Z)(Qs,Ms,js,!1,null,"49ba6d28",null),Vs=Rs.exports,Ks=function(){var e=this,t=e._self._c;return t("div",{staticClass:"users_container"},[t("add-edit-address",{attrs:{"edit-data":e.edmintData},on:{addSuccess:e.requestAddress,editSuccess:e.requestAddress}}),t("el-alert",{staticStyle:{"margin-top":"30px"},attrs:{title:"已保存了"+e.addressList.length+"条地址",closable:!1,type:"info","show-icon":""}}),t("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.addressList,stripe:"",border:""}},[t("el-table-column",{attrs:{prop:"recipientName",align:"center",label:"收货人",width:"90"}}),t("el-table-column",{attrs:{align:"center",label:"所在地区",width:"140"},scopedSlots:e._u([{key:"default",fn:function({row:s}){return[e._v(" "+e._s(s.province+" "+s.city)+" "),t("br"),e._v(" "+e._s(s.district)+" ")]}}])}),t("el-table-column",{attrs:{prop:"detail",align:"center",label:"详细地址",width:"200"}}),t("el-table-column",{attrs:{prop:"recipientPhone",align:"center",label:"电话/手机",width:"120"}}),t("el-table-column",{attrs:{align:"center",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(s){return[t("el-button",{attrs:{type:"success",round:"",plain:"",size:"small"},on:{click:function(t){return e.onEditClick(s.$index)}}},[e._v("编辑")]),t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.onDeleteClick(s.row)}}},[e._v("删除")])]}}])}),t("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(s){return[1===s.row.isDefault?t("el-tag",{attrs:{type:"success"}},[e._v("默认地址")]):t("el-button",{attrs:{plain:"",size:"mini"},on:{click:function(t){return e.setDefault(s.row)}}},[e._v(" 设为默认 ")])]}}])})],1)],1)},Xs=[],Ys=function(){var e=this,t=e._self._c;return t("div",[t("h3",{staticStyle:{"font-size":"18px","margin-bottom":"5px"}},[e._v(e._s(e.isAdd?"添加地址":"编辑地址")+"：")]),t("el-form",{ref:"ruleForm",staticClass:"form_container",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"80px"}},[t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"收货人性名：","label-width":e.formLabelWidth,prop:"recipientName"}},[t("el-input",{attrs:{placeholder:"请输入性名",autocomplete:"off"},model:{value:e.ruleForm.recipientName,callback:function(t){e.$set(e.ruleForm,"recipientName",t)},expression:"ruleForm.recipientName"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"收货人电话：","label-width":e.formLabelWidth,prop:"recipientPhone"}},[t("el-input",{attrs:{placeholder:"请输入电话号码",autocomplete:"off"},model:{value:e.ruleForm.recipientPhone,callback:function(t){e.$set(e.ruleForm,"recipientPhone",t)},expression:"ruleForm.recipientPhone"}})],1)],1)],1),t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"省：","label-width":e.formLabelWidth,prop:"province"}},[t("el-input",{attrs:{placeholder:"输入省份"},model:{value:e.ruleForm.province,callback:function(t){e.$set(e.ruleForm,"province",t)},expression:"ruleForm.province"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"市：","label-width":e.formLabelWidth,prop:"city"}},[t("el-input",{attrs:{placeholder:"请输入市",autocomplete:"off"},model:{value:e.ruleForm.city,callback:function(t){e.$set(e.ruleForm,"city",t)},expression:"ruleForm.city"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"区：","label-width":e.formLabelWidth,prop:"district"}},[t("el-input",{attrs:{placeholder:"请输入区",autocomplete:"off"},model:{value:e.ruleForm.district,callback:function(t){e.$set(e.ruleForm,"district",t)},expression:"ruleForm.district"}})],1)],1)],1),t("el-form-item",{attrs:{label:"详细地址：","label-width":e.formLabelWidth,prop:"detail"}},[t("el-input",{attrs:{placeholder:"请输入详细地址信息，如道路、门牌号、小区、楼栋号、单元等信息",autocomplete:"off"},model:{value:e.ruleForm.detail,callback:function(t){e.$set(e.ruleForm,"detail",t)},expression:"ruleForm.detail"}})],1),t("el-form-item",{attrs:{"label-width":e.formLabelWidth}},[t("el-checkbox",{model:{value:e.ruleForm.isDefault,callback:function(t){e.$set(e.ruleForm,"isDefault",t)},expression:"ruleForm.isDefault"}},[e._v("设置为默认收货地址")])],1),t("div",{staticStyle:{"margin-left":"70%"}},[e.isAdd?t("div",[t("el-button",{on:{click:e.clearRuleForm}},[e._v("重置")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addAddress("ruleForm")}}},[e._v("添加")])],1):t("div",[t("el-button",{on:{click:e.onCancelEdit}},[e._v("退出编辑")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.editAddress("ruleForm")}}},[e._v("保存")])],1)])],1)],1)},Js=[],er={name:"AddEditAddress.vue",props:{editData:{type:Object,default:()=>({addressId:"",userId:"",recipientName:"",recipientPhone:"",province:"",city:"",district:"",detail:"",isDefault:!1})}},watch:{editData:function(e){this.ruleForm=e,this.isAdd=!1},isAdd:function(e){e&&this.clearRuleForm()}},data(){return{isAdd:!0,ruleForm:this.editData,formLabelWidth:"120px",rules:{recipientName:[{required:!0,message:"请输入性名",trigger:"blur"}],recipientPhone:[{required:!0,min:11,max:11,message:"请输入11位手机号码",trigger:["blur","change"]}],detail:[{required:!0,min:5,message:"详细地址长度需要在5个字以上",trigger:["blur"]}]}}},methods:{clearRuleForm(){this.ruleForm={addressId:"",userId:"",recipientName:"",recipientPhone:"",province:"",city:"",district:"",detail:"",isDefault:!1}},onCancelEdit(){this.isAdd=!0,this.$emit("cancelEdit")},addAddress(e){this.$refs[e].validate((e=>{if(e){let e=this.ruleForm.isDefault?1:0,{recipientName:t,recipientPhone:s,province:r,city:a,district:i,detail:o}=this.ruleForm,l={recipientName:t,recipientPhone:s,province:r,city:a,district:i,detail:o,isDefault:e};this.postAdd(l)}}))},postAdd(e){this.$api.address.add(e).then((e=>{console.log(e);const t=e.data;200===t.code?(this.$message.success("成功添加地址"),this.$emit("addSuccess")):this.$message.error(t.msg)}))},editAddress(e){this.$refs[e].validate((e=>{if(e){let e=this.ruleForm.isDefault?1:0,{addressId:t,recipientName:s,recipientPhone:r,province:a,city:i,district:o,detail:l}=this.ruleForm,n={addressId:t,recipientName:s,recipientPhone:r,province:a,city:i,district:o,detail:l,isDefault:e};this.update(n)}}))},update(e){this.$api.address.update(e).then((e=>{const t=e.data;200===t.code?(this.$message.success("成功编辑地址"),this.$emit("editSuccess"),this.isAdd=!0):this.$message.error(t.msg)}))}}},tr=er,sr=(0,n.Z)(tr,Ys,Js,!1,null,"5ac1fd45",null),rr=sr.exports,ar={name:"AddressTable",components:{AddEditAddress:rr},props:{Addresslist:{type:Array}},data(){return{edmintData:{addressId:"",userId:"",recipientName:"",recipientPhone:"",province:"",city:"",district:"",detail:"",isDefault:!1},addressList:[]}},created:function(){this.requestAddress()},methods:{onEditClick(e){const t=this.addressList[e];this.edmintData={...t};let s=this.edmintData.isDefault;this.edmintData.isDefault=1===s,window.scrollTo(0,0)},setDefault(e){let t=1,{addressId:s,recipientName:r,recipientPhone:a,province:i,city:o,district:l,detail:n}=e,c={addressId:s,recipientName:r,recipientPhone:a,province:i,city:o,district:l,detail:n,isDefault:t};this.update(c)},requestAddress(){this.$api.address.get().then((e=>{const t=e.data;200===t.code?(this.$message.success("成功"),this.addressList=t.data):this.$message.error(e.data.msg)}))},update(e){this.$api.address.update(e).then((e=>{console.log(e);const t=e.data;200===t.code?(this.$message.success("成功保存"),this.requestAddress()):this.$message.error(t.msg)}))},onDeleteClick(e){this.$confirm("确定删除该条地址吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.deleteAddress(e.addressId)})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},deleteAddress(e){this.$api.address.remove(e).then((e=>{const t=e.data;200===t.code?(this.$message.success("删除成功"),this.requestAddress()):this.$message.error(t.msg)}))}}},ir=ar,or=(0,n.Z)(ir,Ks,Xs,!1,null,"78b9bc19",null),lr=or.exports,nr=function(){var e=this,t=e._self._c;return t("div",{staticClass:"cart_container"},[t("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.goodsList,height:"300",stripe:""},on:{"select-all":function(t){e.isFull=!e.isFull},"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55","aria-checked":e.isFull}}),t("el-table-column",{attrs:{align:"center",label:"",width:"190"},scopedSlots:e._u([{key:"default",fn:function({row:e}){return[t("el-image",{attrs:{src:e.image}},[t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("i",{staticClass:"el-icon-picture-outline"})])])]}}])}),t("el-table-column",{attrs:{align:"center",label:"商品信息",width:"100",prop:"name"}}),t("el-table-column",{attrs:{align:"center",label:"单价",width:"140"},scopedSlots:e._u([{key:"default",fn:function({row:t}){return[e._v(" "+e._s(t.amount.toFixed(2))+" ")]}}])}),t("el-table-column",{attrs:{align:"center",label:"数量",width:"140"},scopedSlots:e._u([{key:"default",fn:function({row:s}){return[t("el-input-number",{attrs:{size:"mini",min:1},on:{change:function(t){return e.updateNumber(s.productId,s.quantity)}},model:{value:s.quantity,callback:function(t){e.$set(s,"quantity",t)},expression:"row.quantity"}})]}}])}),t("el-table-column",{attrs:{align:"center",label:"操作",width:"140"},scopedSlots:e._u([{key:"default",fn:function({row:s}){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.onDeleteClick(s.productId)}}},[e._v("删除")])]}}])})],1),t("div",{staticClass:"footer-container"},[t("el-checkbox",{attrs:{value:e.isFull},on:{change:e.onSelectAll}},[e._v("全选")]),t("el-button",{staticClass:"button",attrs:{type:"text"},on:{click:e.onRemoveAll}},[e._v("清空购物车")]),t("div",[t("span",[e._v("合计")]),t("span",{staticClass:"amount"},[e._v("￥"+e._s(e.amount.toFixed(2)))])]),t("el-button",{staticClass:"button",attrs:{type:"primary",round:""},on:{click:e.onClickSubmit}},[e._v("结算（"+e._s(e.tatol)+"）")])],1)],1)},cr=[],dr={name:"App",data(){return{goodsList:[],multipleSelection:[],isFull:!1}},computed:{amount(){let e=0;return this.multipleSelection.forEach((t=>{e+=t.amount*t.quantity})),e},tatol(){let e=0;return this.multipleSelection.forEach((t=>{e+=t.quantity})),e}},created:function(){this.requestCart()},methods:{handleSelectionChange(e){this.multipleSelection=e,console.log(e)},requestCart(){this.$api.cart.get().then((e=>{const t=e.data;200===t.code?this.goodsList=t.data:this.$message.error(e.data.msg)}))},onSelectAll(){this.$refs.multipleTable.toggleAllSelection()},updateNumber(e,t){this.$api.cart.updateNum(e,t).then((e=>{const t=e.data;200===t.code?this.$message.success("已更新数据"):this.$message.error(t.msg)}))},onDeleteClick(e){this.updateNumber(e,0),this.requestCart()},onClickSubmit(){},onRemoveAll(){this.$confirm("此操作将清空购物车, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.removeAll()})).catch((()=>{this.$message({type:"info",message:"已取消"})}))},removeAll(){this.$api.cart.removeAll().then((e=>{const t=e.data;200===t.code?(this.$message.success("已清空"),this.requestCart()):this.$message.error(t.msg)}))}}},ur=dr,mr=(0,n.Z)(ur,nr,cr,!1,null,"41f0dcf7",null),hr=mr.exports;r["default"].use(U.ZP);const pr=[{path:"/",redirect:"/userHome"},{path:"/",component:he,children:[{path:"login",component:J},{path:"register",component:ie}]},{path:"/userHome",component:ls},{path:"/search/:keyword",component:bs},{path:"/userInfo",redirect:"/userInfo/-1"},{path:"/userInfo/:loginID",redirect:"/userInfo/:loginID/cart",name:"userInfo",component:Es,children:[{path:"data",component:Us},{path:"edit",component:Vs},{path:"address",component:lr},{path:"cart",component:hr}]}],gr=new U.ZP({routes:pr});gr.beforeEach(((e,t,s)=>{s()}));var fr=gr,vr=s(8499),_r=s.n(vr);r["default"].config.productionTip=!1,r["default"].prototype.$api=H,r["default"].use(_r()),new r["default"]({render:e=>e(d),router:fr}).$mount("#app")},9636:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAT1JREFUOE+l0z1LA0EQh/HnL1ZaWaRQLLTw5QPY50QsLCwEXyrBu6CFrWAdBElnKxa5Q9BC0ttmU4mCtXamEQQb0UaUZCTRiEnucorbze3Oj5mdPfHPpUZ+NrIVGduIFxn75UCXv3Xbgc+sMRdo/E9A67AX2TTGDeBSAaPicso3K/i5vNAugNeegDFq4qAS6DAOWAZKiGHn66ETyhZtQeIcMeR8PXUBjQQvtGeDQiVQoQsI7VTGgMtpqbEXC8xGtleHtYqvqZgWDVh3gU4SgfmijbyL+9h7EHeZQSZKq6olAl7R8ogdaix2If1Una9q63vSHZQxbqlzFleF29T3mGOBbGhHgq2kUaqPmfKGrhNbaGzMHdtkrc5bq9zOuGcLX6O8AjKtZ+2F1hanA5FFgseyr90m2BGnAqn/wteBDwo8dxE/rvQ8AAAAAElFTkSuQmCC"}},t={};function s(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r](i,i.exports,s),i.loaded=!0,i.exports}s.m=e,function(){s.amdO={}}(),function(){var e=[];s.O=function(t,r,a,i){if(!r){var o=1/0;for(d=0;d<e.length;d++){r=e[d][0],a=e[d][1],i=e[d][2];for(var l=!0,n=0;n<r.length;n++)(!1&i||o>=i)&&Object.keys(s.O).every((function(e){return s.O[e](r[n])}))?r.splice(n--,1):(l=!1,i<o&&(o=i));if(l){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[r,a,i]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,i,o=r[0],l=r[1],n=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(a in l)s.o(l,a)&&(s.m[a]=l[a]);if(n)var d=n(s)}for(t&&t(r);c<o.length;c++)i=o[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(d)},r=self["webpackChunkpig_sale"]=self["webpackChunkpig_sale"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(6313)}));r=s.O(r)})();
//# sourceMappingURL=app.68ccec83.js.map